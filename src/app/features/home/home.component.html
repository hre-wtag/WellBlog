<div class="container home_container d-grid my-5 p-0">
  @if(heroBlog && !isFiltered && ! isSearched){
  <div
    class="hero-blog-container mb-3"
    [ngClass]="{ 'loggedin-hero-blog-container': isLoggedin }"
  >
    <img
      class="hero-blog-image img-fluid"
      [src]="heroBlog.blogImage"
      [alt]="heroBlog.title"
    />
    <div class="overlay-hero-blog-image"></div>
    <div
      class="blog-details card-img-overlay"
      [ngClass]="
        isLoggedin
          ? 'loggedin mx-auto mt-auto mb-3'
          : ['not-loggedin', 'border']
      "
    >
      <div class="d-flex flex-column justify-content-between">
        <div class="blog-header">
          <div class="tag-list d-flex">
            @for(tag of heroBlog.tags; track $index){
            <button
              type="button"
              class="tag-btn btn btn-primary d-flex align-items-center justify-content-center m-1 rounded-1"
              (click)="handleSelectedTag(tag)"
            >
              @if(tag.length > 10){
              <span appTooltip [tooltipText]="tag">
                {{ tag.length > 10 ? tag.substring(0, 10) + "..." : tag }}</span
              >} @else { {{ tag }}}</button
            >}
          </div>
          <h4 class="card-title m-1 mt-3 fw-bold">
            {{
              heroBlog.title.length > 150
                ? (heroBlog.title | slice : 0 : 150) + "..."
                : heroBlog.title
            }}
          </h4>
        </div>

        <div class="blog-footer d-flex align-items-center ms-1">
          <div class="footer-left d-flex align-items-center">
            <img
              [src]="
                heroBlog.bloggerImage
                  ? heroBlog.bloggerImage
                  : default_profile_photo
              "
              class="blog-footer-img rounded-circle me-3"
              [alt]="heroBlog.bloggerName"
            />
            <div class="card-text">
              <small class="text-body-secondary"
                >{{ heroBlog.bloggerName }}
              </small>
            </div>
          </div>
          <div class="card-text">
            <small class="text-body-secondary">{{
              heroBlog.postingDate | date : "MMMM d, yy"
            }}</small>
          </div>
        </div>
      </div>
    </div>
  </div>
  }@if(hasBlogs){
  <div
    class="blog-list-container d-flex justify-content-between align-items-center mt-5 mb-2"
  >
    <h4>{{ headerTitle }}</h4>
    @if(isFiltered){
    <span class="clear-filter-btn position-relative" (click)="clearFilter()">
      <i class="bi bi-funnel fs-4"></i>
      <div
        class="cross-btn position-absolute top-0 start-100 translate-middle mt-1"
      >
        <i class="bi bi-x-circle-fill"></i></div></span
    >}
  </div>

  <div class="blog-cards">
    @for(blogs of blogGroups ;track $index){
    <div class="mb-3 d-flex">
      @for(blog of blogs ;track $index){
      <app-blog-card
        [blog]="blog"
        [filteredTag]="filteredTag"
        (selectedFilterTag)="handleSelectedTag($event)"
        [ngClass]="{ 'margin-end': ($index + 1) % 3 !== 0 }"
      />

      }
    </div>

    }
  </div>
  @if(isPaginated && !isFiltered && !isSearched){
  <button class="btn btn-secondary" type="button" (click)="loadMore()">
    Show more</button
  >} } @else {
  <div
    class="my-4 p-2 bg-opacity-10 bg-danger border border-danger border-opacity-25 rounded"
  >
    <h2 class="text-danger">No blogs found.</h2>
  </div>
  }
</div>
